import{m as P,c as i,r as V,o as u,p as m,u as k,a as l,d as f,s as x,e as v,t as _,f as h,B as b,i as C,j as S}from"./index-B5gwVtuj.js";import{u as $,_ as g}from"./useNavigation-D5nVd5JX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I=["type"],B=P({__name:"ButtonComponent",props:{type:{default:"button"}},setup(p){return(e,n)=>(u(),i("button",{type:e.type,class:"cursor-pointer rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},[V(e.$slots,"default")],8,I))}}),T="/weather-app/assets/user-placeholder-CPjZO6aX.png";function U(){return{isValidEmail:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}}function M(){return{validatePhone:e=>{const n=/^\+?[0-9]{7,15}$/;return!(!e||!n.test(e))}}}const L={class:"container mx-auto p-4"},j={class:"w-full relative pb-[40px]"},A={class:"w-full text-center mb-4"},D={class:"relative w-[130px] h-[127px] mx-auto mb-4"},F=["src"],H={key:0},O={key:0},R={key:1},z=P({__name:"ProfileView",setup(p){const e=k(),{goHome:n}=$(),{isValidEmail:N}=U(),{validatePhone:w}=M(),s=m(()=>e.state.user.userInfo),c=m({get:()=>e.state.user.userInfo.fullName,set:o=>e.commit("user/SET_FULL_NAME",{fullName:o})}),r=m({get:()=>e.state.user.userInfo.email,set:o=>e.commit("user/SET_EMAIL",{email:o})}),d=m({get:()=>e.state.user.userInfo.phone,set:o=>e.commit("user/SET_PHONE",{phone:o})}),y=()=>{console.log("uploadPicture...")},E=()=>{if(!c.value||!r.value||!d.value){alert("Please insert user info");return}if(!N(r.value)){alert("Please enter valid email address");return}if(!w(d.value)){alert("Please enter valid phone number");return}alert("User info successfully save!")};return(o,t)=>(u(),i("div",L,[l("div",j,[t[4]||(t[4]=l("div",{class:"w-full text-center absolute top-2 left-0 font-medium text-lg"},"Edit Profile",-1)),f(g,{"icon-name":"chevron-left",onClick:t[0]||(t[0]=a=>x(n)()),class:"absolute top-0 left-0"})]),l("div",A,[l("div",D,[l("img",{src:x(T),alt:"Profile Picture",class:"mx-auto"},null,8,F),f(g,{"icon-name":"edit",class:"absolute -bottom-2 -right-2",onClick:y})]),s.value.fullName?(u(),i("p",H,_(s.value.fullName),1)):v("",!0),l("p",null,[s.value.email?(u(),i("span",O,_(s.value.email),1)):v("",!0),s.value.phone?(u(),i("span",R," | "+_(`+${s.value.phone}`),1)):v("",!0)])]),l("div",null,[h(l("input",{id:"fullName",type:"text",name:"fullName",placeholder:"Full Name",class:"border-1 w-full mb-4","onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a)},null,512),[[b,c.value]]),h(l("input",{id:"email",type:"text",name:"email",placeholder:"Email",class:"border-1 w-full mb-4","onUpdate:modelValue":t[2]||(t[2]=a=>r.value=a)},null,512),[[b,r.value]]),h(l("input",{id:"phone",type:"text",name:"phone",placeholder:"Phone",class:"border-1 w-full mb-4","onUpdate:modelValue":t[3]||(t[3]=a=>d.value=a)},null,512),[[b,d.value]])]),l("div",null,[f(B,{class:"w-full",onClick:E},{default:C(()=>t[5]||(t[5]=[S("SUBMIT",-1)])),_:1,__:[5]})])]))}});export{z as default};
